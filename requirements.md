# 书法集字应用功能列表

***

## 一、作品管理模块

* **1.1 作品导入** (P0)
  * * 本地文件选择: 从本地文件系统选择书法作品图片。
  * * 移动端拍摄: 使用移动设备相机拍摄书法作品。
      * 详细说明: 支持JPG/PNG/SVG格式，移动端拍摄支持防抖、网格线、AI构图建议，提升拍摄质量，针对多图作品，提供批量导入和统一管理功能。

* **1.2 预处理工具** (P1)
  * * 自动裁剪白边: 自动检测并裁剪书法作品图片中的空白边缘。
      * 详细说明: 基于边缘检测的智能裁剪，提高裁剪精度。
  * * 旋转矫正（±15°微调）: 对倾斜的书法作品图片进行旋转矫正。
  * * 亮度对比度调节: 调整书法作品图片的亮度和对比度，优化显示效果。
      * 详细说明: 支持手动覆盖自动矫正结果，满足个性化需求。
  * * 高级识别设置 (P1): 调节噪点过滤、二值化阈值和灰度保留范围等参数。
      * 详细说明: 提供实时预览调节效果，方便用户调整参数。

* **1.3 作品展示** (P0)
  * * 多指缩放（0.1x-20x）: 使用多指手势对书法作品图片进行缩放。
  * * 画布平移（惯性滑动）: 在画布上平移书法作品图片，支持惯性滑动效果。
  * * 分块渲染（P2）: 对高分辨率书法作品图片进行分块渲染，提高加载速度。
      * 详细说明: 4K图片加载时动态分块（256x256像素区块），优化大图浏览体验。

* **1.4 作品保存与同步** (P1)
  * * 本地AES加密存储: 将书法作品图片以AES加密方式存储在本地。
  * * 云同步冲突解决: 解决多设备云同步时可能出现的冲突。
  * * 异常恢复: 在应用发生异常时，恢复书法作品数据。
      * 详细说明: 版本管理支持3个历史版本回溯，防止误操作，断点续传支持，提高同步效率。
      * 作品信息: 保存作品名称、作者、风格、尺寸、创作时间、临摹对象、印章信息、避讳字、备注等信息。

* **1.5 作品检索** (P1)
  * * 多条件组合搜索: 根据多个条件组合搜索书法作品。
  * * 相似作品推荐(P3): 根据当前书法作品，推荐相似的作品 。
      * 详细说明: 支持“颜体+包含‘永’字”类复合条件，提高搜索精度。

* **1.6 集字溯源** (P1)
  * * 点击跳转源作品: 点击集字作品中的某个笔画，跳转到原始作品。
  * * 原笔画高亮显示: 在原始作品中高亮显示集字作品中的笔画。
      * 详细说明: 显示笔画在原作的坐标位置，方便用户了解笔画来源。

***

## 二、笔划处理模块

* **2.1 智能笔划识别** (P0)
  * * 传统算法引擎: 使用传统图像处理算法识别书法作品中的笔画。
      * 详细说明: 基于Canny边缘检测与形态学处理，速度快，但精度有限。
  * * AI深度学习引擎(P2): 使用AI深度学习模型识别书法作品中的笔画 (P2)。
      * 详细说明: ResNet50+CRNN混合架构，精度高，但计算资源消耗大。
  * * 风格适配开关(P2): 切换不同的笔画识别风格，适应不同书法的特点。

* **2.2 识别修正工具** (P1)
  * * 笔划拆分/合并: 使用选择工具拆分或合并识别错误的笔画。
  * * 角度微调（1°步进）: 对识别出的笔画进行角度微调。
  * * 锚点拖动修正: 拖动笔画的锚点，修正笔画的形状。
      * 详细说明: 提供放大镜辅助精细操作，提高修正精度。

* **2.3 笔划标注** (P2)
  * * 置信度进度条: 显示笔画识别的置信度。
  * * 笔顺动态编号: 按照笔顺对识别出的笔画进行动态编号。
  * * 异常笔划标记: 标记识别异常的笔画。
      * 详细说明: 对低置信度（<60%）的笔划以红色警示框标出，提醒用户注意。

***

## 三、集字操作模块

* **3.1 多选交互** (P0)
  * * 矩形框选: 使用矩形框选工具选择多个笔画。
  * * 套索自由选择: 使用套索工具自由选择多个笔画。
  * * Shift多选模式: 按住Shift键选择多个笔画。
  * * 撤销/重做栈: 支持撤销和重做操作。
      * 详细说明: 最大支持50步操作回溯，方便用户调整集字效果。
      * 详细说明: 选中笔画显示半透明蒙版，方便用户确认选择。

* **3.2 集字管理** (P0)
  * * 网格/列表视图: 以网格或列表的形式显示集字作品。
  * * 元数据编辑器: 编辑集字作品的元数据。
      * 详细说明: 包含创建者、修改时间、来源作品、发音、繁体字、简体字、结构、释义、出处等元数据，方便用户管理。
  * * 保存：以特定格式保存在本地。
  * * 检索: 按元数据检索集字。
  * * 删除: 删除集字。
  * * 导入：导入集字。
  * * 导出: 导出集字，导出图片及元数据，图片格式支持PNG, JPG, SVG, TIFF等。
  * * 溯源: 点击集字作品中的某个笔画，跳转到原始作品。
      * 详细说明: 显示笔画在原作的坐标位置，方便用户了解笔画来源。
  * * 标签智能推荐（P2）: 智能推荐集字作品的标签。
      * 详细说明: 支持自定义标签体系，方便用户进行分类管理。
  * * 元数据自动标注（P2）：自动识别识别或者关联元数据。

***

## 四、字帖生成模块

* **4.1 模板设计** (P1)
  * * 尺寸设置：字帖尺寸选择或自定义设置
  * * 图层管理：图层的浏览、增、删、改、选择
  * * 图层设计：背景纹理、透明度设置
  * * 填充设计：填充区域布局设计，区域内默认字体颜色和默认的字体大小
  * * 实时预览：模版效果调整可以实时（缩略）预览
  * * 样张打印：模板样张效果支持打印输出

* **4.1 模板库管理** (P1)
  * * 预设模板
  * * 模板浏览
  * * 模板修改
  * * 模板删除
  * * 模板导出
  * * 模板导入

* **4.3 字帖设计** (P0)
  * * 模板选择：选中模板后，在界面上进行可视化设计
  * * 集字选择：批量输入汉字确认后，界面自动显示可选集字，上下切换选中汉字相应切换可选集字
  * * 模板填充：拖拽集字到选定填充区域进行填充，默认字体颜色和大小按模版设计要求，但可以手动调整字体颜色、大小、以及位置。除了可以填充集字，还可以填充印章，图片，以及标准打印字体文字。
  * * 字帖保存：填充完毕后，确认保存

* **4.4 字帖管理** (P1)
  * * 字帖浏览
  * * 字帖修改
  * * 字帖删除
  * * 字帖导出
  * * 字帖打印
  * * 字帖分享

***

## 五、辅助工具模块

## 六、用户系统模块

* **6.1 账户体系** (P0)
  * * 用户注册注销
  * * 用户登录登出
  * * 第三方快速登录: 支持使用第三方账号快速登录。
  * * 数据迁移工具（P2）: 提供数据迁移工具，方便用户更换设备。
      * 详细说明: 支持微信/Apple ID/Google账号登录，简化注册流程，单账号最多绑定5台设备，满足多设备使用需求。

* **6.2 权限管理** (P1)
  * * 功能权限分级: 对不同用户等级分配不同的功能权限。
  * * 存储空间配额（P2）: 为不同用户等级分配不同的存储空间配额。
  * * 会员专属素材（P2）: 为会员用户提供专属素材。
      * 详细说明: 免费用户每日最多导出3次，限制部分功能的使用，会员享有无损TIFF导出权限，提供更高质量的输出。

* **6.3 社交功能** (P1)
  * * 社交分享(书法作品、字帖、集字)
  * * 水印定制（P2）: 定制分享作品的水印， 水印支持自定义文字/logo/透明度，保护用户版权。
  * * 分享权限控制 (P2) : 有效期设置: 设置分享链接的有效期。访问密码保护: 为分享链接设置访问密码。下载权限控制: 控制分享链接的下载权限。详细说明: 链接最长有效期30天，防止链接滥用，支持阅后即焚模式，保护用户隐私。

***

## 七、系统设置模块

* **7.1 显示设置**
* **7.2 存储管理**
  * * 本地存储路径（P1）
  * * 云存储配额显示（P2）: 显示云存储的配额使用情况。

***

## 八、高级专业功能模块

* **8.1 多图拼接** (P2)
  * 将多张图片自动拼接成一幅完整的作品。
* **8.2 折痕修复** (P2)
  * 修复扫描图片中的折痕。智能识别并去除装裱痕迹，提高扫描件的质量，基于GAN的图像修复技术，支持手动标记修复区域，并提供修复效果对比滑块。  
* **8.3 临帖对比** (P2)
  * 详细说明：对比字帖与用户临摹字体，分析与显示差异，方便用户改进书写习惯与技巧。
* **8.4 印章生成** (P3)
  * * 样式模板库: 提供多种印章样式模板。
  * * 篆字自动生成: 自动将文字转换为篆字。
  * * 印泥效果模拟: 模拟真实印泥的颜色和质感。
      * 详细说明: 提供姓名章/闲章/斋号章模板，满足不同用户的需求，支持朱文/白文切换，提供更多选择。
* **8.5 字迹变化跟踪** (P3)
* **8.6 临帖打卡记录** (P3)
* **8.7 印章分离** (P2)
  * 将扫描图片中的印章分离出来
  
***

### 优先级说明

* \*\*P0\*\*：基础核心功能，必须首期实现
* \*\*P1\*\*：重要增强功能，建议首期或二期实现
* \*\*P2\*\*：进阶功能，可后续迭代
* \*\*P3\*\*：专业/复杂功能，需长期规划
