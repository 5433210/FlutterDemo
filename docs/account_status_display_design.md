# è®¤è¯ä¸Žè®¢é˜…çŠ¶æ€æ˜¾ç¤ºä¸Žè´¦æˆ·ç®¡ç†å…¥å£è®¾è®¡è¡¥å……æ–‡æ¡£

**åˆ›å»ºæ—¥æœŸ**ï¼š2025å¹´5æœˆ7æ—¥  
**çŠ¶æ€**ï¼šåˆç¨¿ï¼Œæ›´æ–°äºŽ2025å¹´5æœˆ7æ—¥  
**ä½œè€…**ï¼šæŠ€æœ¯å›¢é˜Ÿ  

## 1. æ¦‚è¿°

æœ¬æ–‡æ¡£æ˜¯å¯¹ã€Šè®¤è¯ä¸Žè®¢é˜…ç•Œé¢è®¾è®¡æ–‡æ¡£ã€‹çš„è¡¥å……ï¼Œè¯¦ç»†æè¿°äº†åº”ç”¨ç¨‹åºä¸­ç™»å½•çŠ¶æ€ã€è®¢é˜…çŠ¶æ€çš„æ˜¾ç¤ºä½ç½®ï¼Œä»¥åŠè´¦æˆ·ç®¡ç†é¡µé¢çš„å…¥å£è®¾è®¡ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿæ–¹ä¾¿åœ°æŸ¥çœ‹è‡ªå·±çš„è´¦æˆ·å’Œè®¢é˜…çŠ¶æ€ï¼Œå¹¶è½»æ¾è®¿é—®è´¦æˆ·ç®¡ç†åŠŸèƒ½ã€‚

### 1.1 è®¾è®¡ç›®æ ‡

- æä¾›æ¸…æ™°ç›´è§‚çš„ç”¨æˆ·ç™»å½•çŠ¶æ€å’Œè®¢é˜…çŠ¶æ€æ˜¾ç¤º
- è®¾è®¡ä¸€è‡´ä¸”æ˜“äºŽè®¿é—®çš„è´¦æˆ·ç®¡ç†å…¥å£
- ç¡®ä¿è·¨å¹³å°çš„ä¸€è‡´ç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶å°Šé‡å„å¹³å°è®¾è®¡è§„èŒƒ
- ä¼˜åŒ–ç”¨æˆ·ç•Œé¢äº¤äº’ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ

## 2. çŠ¶æ€æ˜¾ç¤ºè®¾è®¡

### 2.1 ä¸»å¯¼èˆªæ çŠ¶æ€æ˜¾ç¤º

ä¸»å¯¼èˆªæ æ˜¯åº”ç”¨ç¨‹åºçš„ä¸»è¦å¯¼èˆªåŒºåŸŸï¼Œæˆ‘ä»¬åœ¨æ­¤åŒºåŸŸæ·»åŠ ç™»å½•çŠ¶æ€å’Œè®¢é˜…çŠ¶æ€æ˜¾ç¤ºï¼Œç¡®ä¿ç”¨æˆ·å¯ä»¥éšæ—¶æŸ¥çœ‹è‡ªå·±çš„è´¦æˆ·çŠ¶æ€ã€‚

#### 2.1.1 å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åº”ç”¨æ ‡é¢˜                                      ðŸ‘¤ ðŸ’Ž æˆ– âœ“ æˆ– âš ï¸  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.2 çŠ¶æ€æŒ‡ç¤ºå™¨è®¾è®¡

ä¸»å¯¼èˆªæ ä¸­çš„çŠ¶æ€æŒ‡ç¤ºå™¨åŒ…å«ä¸¤ä¸ªä¸»è¦å…ƒç´ ï¼šç”¨æˆ·å¤´åƒå’Œè®¢é˜…çŠ¶æ€å›¾æ ‡ã€‚

| çŠ¶æ€ | å›¾æ ‡ç»„åˆ | å«ä¹‰ |
|------|----------|------|
| æœªç™»å½• | ðŸ‘¤ (ç°è‰²) | ç”¨æˆ·æœªç™»å½• |
| å·²ç™»å½•-å…è´¹ç‰ˆ | ðŸ‘¤ (è“è‰²) | ç”¨æˆ·å·²ç™»å½•ï¼Œä½¿ç”¨å…è´¹ç‰ˆ |
| å·²ç™»å½•-è¯•ç”¨æœŸ | ðŸ‘¤ ðŸ’Ž 12å¤© | ç”¨æˆ·å·²ç™»å½•ï¼Œæ­£åœ¨è¯•ç”¨é«˜çº§åŠŸèƒ½ï¼Œå‰©ä½™12å¤© |
| å·²ç™»å½•-é«˜çº§ç‰ˆ | ðŸ‘¤ âœ“ | ç”¨æˆ·å·²ç™»å½•ï¼Œè®¢é˜…é«˜çº§ç‰ˆ |
| å·²ç™»å½•-å³å°†åˆ°æœŸ | ðŸ‘¤ âš ï¸ 3å¤© | è®¢é˜…å³å°†åˆ°æœŸï¼Œæé†’ç»­è®¢ |

#### 2.1.3 äº¤äº’è§„èŒƒ

| å…ƒç´  | äº¤äº’ | è¡Œä¸º |
|------|------|------|
| ç”¨æˆ·å¤´åƒ | ç‚¹å‡»/æ‚¬åœ | æ˜¾ç¤ºç”¨æˆ·èœå•ï¼ŒåŒ…å«è´¦æˆ·ç®¡ç†ã€è®¾ç½®ã€é€€å‡ºç™»å½•ç­‰é€‰é¡¹ |
| è®¢é˜…çŠ¶æ€å›¾æ ‡ | ç‚¹å‡»/æ‚¬åœ | æ˜¾ç¤ºè®¢é˜…è¯¦æƒ…å¼¹çª—ï¼ŒåŒ…å«å½“å‰æ–¹æ¡ˆã€åˆ°æœŸæ—¶é—´ç­‰ä¿¡æ¯ |
| è¯•ç”¨å¤©æ•°/åˆ°æœŸæé†’ | ç‚¹å‡» | ç›´æŽ¥è·³è½¬åˆ°è®¢é˜…ç®¡ç†é¡µé¢ |

#### 2.1.4 è§†è§‰è®¾è®¡

- **å¤´åƒåŒºåŸŸ**ï¼š
  - åœ†å½¢ï¼Œç›´å¾„32px
  - å·²ç™»å½•çŠ¶æ€æ˜¾ç¤ºç”¨æˆ·é¦–å­—æ¯æˆ–å¤´åƒ
  - æœªç™»å½•çŠ¶æ€æ˜¾ç¤ºé»˜è®¤ç”¨æˆ·å›¾æ ‡

- **è®¢é˜…çŠ¶æ€å›¾æ ‡**ï¼š
  - å°ºå¯¸ï¼š16px
  - é«˜çº§ç‰ˆï¼šç»¿è‰²å¯¹å‹¾
  - è¯•ç”¨æœŸï¼šç´«è‰²é’»çŸ³
  - å³å°†åˆ°æœŸï¼šé»„è‰²è­¦å‘Š

- **å¾½ç« è®¾è®¡**ï¼š
  - å°åž‹åœ†è§’çŸ©å½¢ï¼Œé«˜åº¦20px
  - åŠé€æ˜ŽèƒŒæ™¯ï¼Œä¸ŽçŠ¶æ€ç›¸å…³çš„ä¸»é¢˜è‰²
  - ç´§å‡‘å†…è¾¹è·ï¼šæ°´å¹³6pxï¼Œåž‚ç›´2px

- **è‰²å½©è§„èŒƒ**ï¼š
  - é«˜çº§ç‰ˆï¼šç»¿è‰² (#4CAF50)
  - è¯•ç”¨æœŸï¼šç´«è‰² (#9C27B0)
  - è­¦å‘Šï¼šç¥ç€è‰² (#FFC107)
  - æœªç™»å½•/åŸºç¡€ï¼šç°è‰² (#9E9E9E)

#### 2.1.5 å“åº”å¼è°ƒæ•´

| å±å¹•å°ºå¯¸ | è°ƒæ•´ç­–ç•¥ |
|---------|---------|
| æ¡Œé¢ç«¯ | å®Œæ•´æ˜¾ç¤ºå¤´åƒå’ŒçŠ¶æ€å›¾æ ‡ |
| å¹³æ¿ç«¯ | æ ¹æ®å¯ç”¨ç©ºé—´è°ƒæ•´å›¾æ ‡å¤§å° |
| ç§»åŠ¨ç«¯ | åœ¨çª„å±å¹•ä¸Šå¯èƒ½ä»…æ˜¾ç¤ºå¤´åƒï¼ŒçŠ¶æ€ä¿¡æ¯é€šè¿‡ç‚¹å‡»å±•å¼€ |

#### 2.1.6 å±•å¼€çŠ¶æ€å¼¹çª—

å½“ç”¨æˆ·ç‚¹å‡»æˆ–æ‚¬åœåœ¨çŠ¶æ€æŒ‡ç¤ºå™¨ä¸Šæ—¶ï¼Œå±•ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ‘¤ ç”¨æˆ·å                       â”‚
â”‚ é‚®ç®±åœ°å€                        â”‚
â”‚                                 â”‚
â”‚ âœ“ é«˜çº§ç‰ˆè®¢é˜…                    â”‚
â”‚ åˆ°æœŸæ—¶é—´ï¼š2026å¹´5æœˆ7æ—¥           â”‚
â”‚                                 â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ðŸ“ è´¦æˆ·ç®¡ç†                     â”‚
â”‚ âš™ï¸ è®¾ç½®                        â”‚
â”‚ ðŸšª é€€å‡ºç™»å½•                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ä¾§è¾¹æ çŠ¶æ€æ˜¾ç¤ºï¼ˆæ¡Œé¢ç‰ˆï¼‰

æ¡Œé¢ç‰ˆåº”ç”¨å¯èƒ½åŒ…å«ä¾§è¾¹æ ï¼Œæˆ‘ä»¬åœ¨ä¾§è¾¹æ åº•éƒ¨æ·»åŠ ç”¨æˆ·çŠ¶æ€ä¿¡æ¯å’Œè´¦æˆ·ç®¡ç†å…¥å£ã€‚

#### 2.2.1 ä¾§è¾¹æ å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èœå•é¡¹ 1              â”‚
â”‚ èœå•é¡¹ 2              â”‚
â”‚ ...                   â”‚
â”‚                       â”‚
â”‚                       â”‚
â”‚                       â”‚
â”‚                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ðŸ‘¤ ç”¨æˆ·å           â”‚
â”‚ âœ“ é«˜çº§ç‰ˆ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.2 äº¤äº’è§„èŒƒ

ä¾§è¾¹æ åº•éƒ¨çš„ç”¨æˆ·åŒºåŸŸä½œä¸ºä¸€ä¸ªæ•´ä½“å¯ç‚¹å‡»ï¼Œç‚¹å‡»åŽæ‰“å¼€è´¦æˆ·ç®¡ç†é¡µé¢ã€‚

## 3. è´¦æˆ·ç®¡ç†å…¥å£è®¾è®¡

### 3.1 ä¸»è¦å…¥å£ä½ç½®

æä¾›å¤šä¸ªå…¥å£ç‚¹ï¼Œç¡®ä¿ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æ‰¾åˆ°å¹¶è¿›å…¥è´¦æˆ·ç®¡ç†é¡µé¢ï¼š

| å…¥å£ä½ç½® | å½¢å¼ | å®žçŽ°æ–¹å¼ |
|---------|------|---------|
| ä¸»å¯¼èˆªæ  | ç”¨æˆ·å¤´åƒ/çŠ¶æ€æŒ‡ç¤ºå™¨ | ç‚¹å‡»åŽæ‰“å¼€ç”¨æˆ·èœå•æˆ–ç›´æŽ¥è¿›å…¥è´¦æˆ·é¡µé¢ |
| ä¾§è¾¹æ  | ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ | ç‚¹å‡»åŽç›´æŽ¥è¿›å…¥è´¦æˆ·é¡µé¢ |
| è®¾ç½®èœå• | èœå•é¡¹ | åœ¨åº”ç”¨è®¾ç½®èœå•ä¸­æ·»åŠ "è´¦æˆ·ä¸Žè®¢é˜…"é¡¹ |
| è®¢é˜…æé†’ | æ“ä½œæŒ‰é’® | ä»Žè®¢é˜…æé†’é€šçŸ¥ä¸­å¯ç›´æŽ¥è¿›å…¥è´¦æˆ·é¡µé¢ |

### 3.2 å…¥å£é—´ä¸€è‡´æ€§

ç¡®ä¿æ‰€æœ‰å…¥å£ç‚¹ä½¿ç”¨ä¸€è‡´çš„å‘½åå’Œå›¾æ ‡ï¼š

- **æ–‡æœ¬ä¸€è‡´æ€§**ï¼šç»Ÿä¸€ä½¿ç”¨"è´¦æˆ·ä¸Žè®¢é˜…"ä½œä¸ºé¡µé¢åç§°
- **å›¾æ ‡ä¸€è‡´æ€§**ï¼šä½¿ç”¨ç”¨æˆ·å›¾æ ‡ï¼ˆðŸ‘¤ï¼‰å’Œè®¢é˜…æ ‡è¯†ï¼ˆðŸ’³ï¼‰çš„ç»„åˆ
- **è¡Œä¸ºä¸€è‡´æ€§**ï¼šæ‰€æœ‰å…¥å£éƒ½å¯¼å‘åŒä¸€ä¸ªè´¦æˆ·ç®¡ç†é¡µé¢

### 3.3 å¹³å°ç‰¹å®šå…¥å£è®¾è®¡

#### 3.3.1 æ¡Œé¢å¹³å°ï¼ˆWindows/Linux/macOSï¼‰

- **Windows/Linux**ï¼šåœ¨ä¸»èœå•æ æ·»åŠ "è´¦æˆ·"èœå•é¡¹
- **macOS**ï¼šéµå¾ªmacOSèœå•æ è§„èŒƒï¼Œåœ¨åº”ç”¨èœå•ä¸­æ·»åŠ è´¦æˆ·é€‰é¡¹
- **æ‰€æœ‰æ¡Œé¢å¹³å°**ï¼šæ”¯æŒé”®ç›˜å¿«æ·é”® (Ctrl/Cmd + A) å¿«é€Ÿæ‰“å¼€è´¦æˆ·é¡µé¢

#### 3.3.2 ç§»åŠ¨å¹³å°ï¼ˆAndroid/iOSï¼‰

- **Android**ï¼šåœ¨å³ä¸Šè§’æä¾›å¤´åƒæŒ‰é’®ï¼Œç‚¹å‡»å±•å¼€ç”¨æˆ·èœå•
- **iOS**ï¼šåœ¨æ ‡ç­¾æ æˆ–å¯¼èˆªæ ä¸­æ·»åŠ ç”¨æˆ·æ ‡ç­¾

## 4. ç™»å½•æµç¨‹ä¸Žè´¦æˆ·ç®¡ç†çš„æ•´åˆ

### 4.1 æœªç™»å½•çŠ¶æ€ä¸‹çš„å…¥å£è¡Œä¸º

å½“ç”¨æˆ·æœªç™»å½•æ—¶ï¼ŒçŠ¶æ€æŒ‡ç¤ºå™¨æ˜¾ç¤ºæœªç™»å½•å›¾æ ‡ã€‚ç‚¹å‡»åŽçš„è¡Œä¸ºï¼š

1. æ‰“å¼€ç™»å½•/æ³¨å†Œé¡µé¢ï¼Œè€Œéžè´¦æˆ·ç®¡ç†é¡µé¢
2. ç”¨æˆ·å¯ä»¥é€‰æ‹©ç™»å½•ã€æ³¨å†Œæˆ–ä»¥åŒ¿åæ¨¡å¼ç»§ç»­
3. ç™»å½•æˆåŠŸåŽè‡ªåŠ¨è·³è½¬åˆ°è´¦æˆ·ç®¡ç†é¡µé¢ï¼Œå±•ç¤ºå®Œæ•´è´¦æˆ·ä¿¡æ¯

### 4.2 é¦–æ¬¡ç™»å½•ä½“éªŒ

ç”¨æˆ·é¦–æ¬¡ç™»å½•åŽçš„å¼•å¯¼æµç¨‹ï¼š

1. æ˜¾ç¤ºæ¬¢è¿Žæ¶ˆæ¯å’Œè´¦æˆ·æ¿€æ´»ç¡®è®¤
2. æç¤ºç”¨æˆ·å®Œå–„è´¦æˆ·ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
3. å¼•å¯¼ç”¨æˆ·æ¿€æ´»å…è´¹è¯•ç”¨ï¼ˆå¦‚é€‚ç”¨ï¼‰
4. ä»‹ç»è´¦æˆ·ç®¡ç†é¡µé¢çš„ä¸»è¦åŠŸèƒ½åŒºåŸŸ

## 5. è®¢é˜…çŠ¶æ€æé†’è®¾è®¡

é™¤äº†å¸¸é©»çŠ¶æ€æ˜¾ç¤ºå¤–ï¼Œåœ¨ç‰¹å®šæƒ…å†µä¸‹è¿˜éœ€è¦ä¸»åŠ¨æé†’ç”¨æˆ·ï¼š

### 5.1 è®¢é˜…å³å°†åˆ°æœŸæé†’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ æ‚¨çš„è®¢é˜…å°†åœ¨3å¤©åŽåˆ°æœŸ        â”‚
â”‚                                 â”‚
â”‚ ç«‹å³ç»­è®¢ä»¥ç»§ç»­äº«å—é«˜çº§åŠŸèƒ½      â”‚
â”‚                                 â”‚
â”‚ [ç¨åŽå†è¯´]      [ç«‹å³ç»­è®¢]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¯•ç”¨æœŸå³å°†ç»“æŸæé†’

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ’Ž æ‚¨çš„è¯•ç”¨æœŸè¿˜æœ‰2å¤©ç»“æŸ        â”‚
â”‚                                 â”‚
â”‚ è®¢é˜…é«˜çº§ç‰ˆä»¥ç»§ç»­ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½    â”‚
â”‚                                 â”‚
â”‚ [ç¨åŽå†è¯´]      [æŸ¥çœ‹è®¢é˜…æ–¹æ¡ˆ]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 æé†’æ˜¾ç¤ºè§„åˆ™

| æƒ…å†µ | æ˜¾ç¤ºæ—¶æœº | æ˜¾ç¤ºé¢‘çŽ‡ |
|------|---------|---------|
| è®¢é˜…å³å°†åˆ°æœŸ | åˆ°æœŸå‰7å¤©ã€3å¤©ã€1å¤© | æ¯å¤©æœ€å¤š1æ¬¡ |
| è¯•ç”¨å³å°†ç»“æŸ | ç»“æŸå‰5å¤©ã€2å¤©ã€æœ€åŽ1å¤© | æ¯å¤©æœ€å¤š1æ¬¡ |
| è®¢é˜…å·²è¿‡æœŸ | è¿‡æœŸåŽé¦–æ¬¡å¯åŠ¨åº”ç”¨ | ä»…æ˜¾ç¤º1æ¬¡ï¼ŒåŽç»­ä»ŽçŠ¶æ€å›¾æ ‡æç¤º |

## 6. å®žçŽ°ç»†èŠ‚

### 6.1 ä¸»å¯¼èˆªæ çŠ¶æ€æŒ‡ç¤ºå™¨å®žçŽ°

```dart
class AccountStatusIndicator extends StatelessWidget {
  final UserState userState;
  final SubscriptionState subscriptionState;
  
  @override
  Widget build(BuildContext context) {
    return InkWell(
      onTap: () => _handleStatusTap(context),
      child: Row(
        mainAxisSize: MainAxisSize.min,
        children: [
          _buildUserAvatar(),
          if (_shouldShowSubscriptionBadge())
            _buildSubscriptionBadge(),
        ],
      ),
    );
  }
  
  // æž„å»ºç”¨æˆ·å¤´åƒ
  Widget _buildUserAvatar() {
    if (!userState.isLoggedIn) {
      return Icon(Icons.account_circle_outlined);
    }
    
    // æ˜¾ç¤ºç”¨æˆ·å¤´åƒæˆ–é¦–å­—æ¯
    return CircleAvatar(
      // å®žçŽ°ç»†èŠ‚
    );
  }
  
  // æž„å»ºè®¢é˜…çŠ¶æ€å¾½ç« 
  Widget _buildSubscriptionBadge() {
    // æ ¹æ®è®¢é˜…çŠ¶æ€æ˜¾ç¤ºä¸åŒå¾½ç« 
    if (subscriptionState.isInTrial) {
      return _buildTrialBadge();
    } else if (subscriptionState.isSubscribed) {
      return _buildSubscribedBadge();
    } else if (subscriptionState.isExpiringSoon) {
      return _buildExpiringSoonBadge();
    }
    
    return SizedBox.shrink();
  }
  
  // å¤„ç†ç‚¹å‡»äº‹ä»¶
  void _handleStatusTap(BuildContext context) {
    if (userState.isLoggedIn) {
      _openAccountMenu(context);
    } else {
      _openLoginPage(context);
    }
  }
}
```

### 6.2 çŠ¶æ€èœå•å®žçŽ°

```dart
void _openAccountMenu(BuildContext context) {
  showDialog(
    context: context,
    builder: (context) => AccountStatusMenu(
      userName: userState.userName,
      email: userState.email,
      subscriptionStatus: subscriptionState,
      onAccountTap: () => Navigator.pushNamed(context, '/account'),
      onSettingsTap: () => Navigator.pushNamed(context, '/settings'),
      onLogoutTap: () => _handleLogout(context),
    ),
  );
}
```

### 6.3 è·¯ç”±ä¸Žå¯¼èˆª

```dart
// åœ¨åº”ç”¨çš„è·¯ç”±è¡¨ä¸­æ·»åŠ è´¦æˆ·ç›¸å…³è·¯ç”±
Map<String, WidgetBuilder> routes = {
  '/account': (context) => AccountPage(),
  '/login': (context) => LoginPage(),
  '/register': (context) => RegisterPage(),
  '/subscription': (context) => SubscriptionPage(),
  // å…¶ä»–è·¯ç”±
};
```
