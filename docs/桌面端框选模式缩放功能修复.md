# 桌面端框选模式缩放功能修复

## 问题描述

在桌面端字符采集页面，当工具模式切换到"框选工具"时，用户无法通过鼠标滚轮缩放图片。

## 问题原因

在`DesktopImageView`的`InteractiveViewer`配置中，`scaleEnabled`属性被错误地设置为只在以下条件下才启用：

- 平移模式 (`isPanMode`)
- 按下Alt键 (`_altKeyNotifier.value`)
- 按下右键 (`_isRightMousePressed`)

```dart
// 修改前的错误配置
scaleEnabled: isPanMode || _altKeyNotifier.value || _isRightMousePressed,
```

这导致在框选模式下，用户无法使用鼠标滚轮进行缩放操作。

## 修复方案

将`scaleEnabled`设置为始终启用，因为在桌面端，鼠标滚轮缩放是一个基础的交互方式，应该在所有工具模式下都可用。

```dart
// 修改后的正确配置
// 在桌面端，缩放功能（鼠标滚轮）应该在所有模式下都可用
scaleEnabled: true,
// 平移功能只在特定条件下启用：平移模式、Alt键、右键
panEnabled: isPanMode || _altKeyNotifier.value || _isRightMousePressed,
```

## 修复效果

修复后，用户在桌面端的框选工具模式下可以：

- ✅ 使用鼠标滚轮缩放图片
- ✅ 通过拖拽创建选区
- ✅ 通过拖拽选区控制点调整选区
- ✅ 按住Alt键或右键拖拽平移图片

## 设计理念

这个修复遵循了桌面端应用的标准交互模式：

1. **缩放操作（鼠标滚轮）**：应该在所有模式下都可用，这是用户的预期行为
2. **平移操作（拖拽）**：需要根据工具模式和修饰键来控制，避免与其他操作冲突
3. **工具特定操作**：框选、调整等操作由自定义手势检测器处理

## 文件修改

- `lib/presentation/widgets/character_collection/desktop_image_view.dart`
  - 修改InteractiveViewer的scaleEnabled配置
  - 添加注释说明设计意图

## 测试建议

1. 切换到框选工具模式
2. 使用鼠标滚轮缩放图片 - 应该正常工作
3. 在空白区域拖拽创建选区 - 应该正常工作  
4. 拖拽选区控制点调整大小 - 应该正常工作
5. 按住Alt键拖拽 - 应该能平移图片
6. 右键拖拽 - 应该能平移图片
